<md-toolbar>
  <div class="md-toolbar-tools">
    <h2>Login</h2>
    <span flex></span>
    <md-button class="md-icon-button" ng-click="auth.cancel()">
      <md-icon aria-label="Close dialog" >close</md-icon>
    </md-button>
  </div>
</md-toolbar>

<form name='LoginForm'>
  <md-dialog-content>
        <br>
        <md-input-container class="md-block">

          <label>Email</label>

          <input required type="email" name="email" ng-model="user.email"
               minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/" />

          <div ng-hide="true" ng-messages="LoginForm.email.$error" role="alert">
            <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
              Your email must be between 10 and 100 characters long and look like an e-mail address.
            </div>
          </div>

        </md-input-container>

        <md-input-container class="md-block">
          <label>Password</label>

          <input type="password" required md-no-asterisk name="password" ng-model="user.password">

          <div ng-messages="LoginForm.password.$error">
            <div ng-message="required">This is required.</div>
          </div>

          <div ng-messages="auth.message" layout="row" layout-align="center center">
            <div>{{auth.message}}</div>
          </div>

        </md-input-container>

  </md-dialog-content>

  <md-dialog-actions layout="row">
    <md-button validation-submit="LoginForm" ng-click="auth.login(user)" ng-hide="auth.isAuthed()" type="submit"  ng-click="cancel()">
      Login
    </md-button>
  </md-dialog-actions>
</form>
